{% extends "base.html" %}
{% block title %}Paso 6: Transporte | Planifica tu Viaje{% endblock %}
{% block extra_css %}<link rel="stylesheet" href="{{ url_for('static', filename='css/carRenting.css') }}"><style>.wizard-progress{background:white;padding:1.5rem;border-radius:16px;margin-bottom:2rem;box-shadow:0 4px 15px rgba(0,0,0,0.08)}.progress-step{text-align:center}.progress-step.active .step-number{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white}.progress-step.completed .step-number{background:#10b981;color:white}.step-number{width:50px;height:50px;border-radius:50%;background:#e5e7eb;display:inline-flex;align-items:center;justify-content:center;font-weight:bold;margin-bottom:0.5rem}.service-card{background:white;border-radius:16px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 4px 15px rgba(0,0,0,0.08);transition:all 0.3s ease}.service-card:hover{transform:translateY(-5px);box-shadow:0 8px 25px rgba(0,0,0,0.12)}</style>{% endblock %}
{% block content %}<div class="container py-5"><div class="wizard-progress"><div class="row text-center"><div class="col progress-step completed"><div class="step-number">1</div><small>Alojamiento</small></div><div class="col progress-step completed"><div class="step-number">2</div><small>Vuelos</small></div><div class="col progress-step completed"><div class="step-number">3</div><small>Cruceros</small></div><div class="col progress-step completed"><div class="step-number">4</div><small>Vehículos</small></div><div class="col progress-step completed"><div class="step-number">5</div><small>Tours</small></div><div class="col progress-step active"><div class="step-number">6</div><small>Transporte</small></div></div></div>    <div class="mb-4"><h2 class="fw-bold"><i class="fas fa-bus text-primary me-2"></i>¿Necesitas transporte terrestre?</h2><p class="text-muted">Selecciona bus o tren, o salta este paso</p></div>{% if transports %}<div class="row g-4 mb-4">{% for transport in transports %}<div class="col-md-6"><div class="service-card"><div class="d-flex justify-content-between align-items-start mb-3"><div><h5 class="fw-bold mb-2"><i class="fas fa-{% if transport.type == 'bus' %}bus{% else %}train{% endif %} text-primary me-2"></i>{{ transport.locationStart.city if transport.locationStart else 'Origen' }} → {{ transport.locationEnd.city if transport.locationEnd else 'Destino' }}</h5><p class="text-muted small mb-0">{{ transport.type|capitalize }}</p></div><div class="text-end"><h4 class="text-success mb-0">{{ transport.price }}€</h4><small class="text-muted">por persona</small></div></div><form method="post" action="{{ url_for('tripBuilder.save_transport') }}"><input type="hidden" name="transport_id" value="{{ transport.idBusTrain }}"><input type="hidden" name="action" value="add"><button type="submit" class="btn btn-primary w-100 rounded-pill"><i class="fas fa-plus-circle me-2"></i>Añadir al Viaje</button></form></div></div>{% endfor %}</div>{% else %}
<div class="alert alert-info rounded-4"><i class="fas fa-info-circle me-2"></i>No hay transporte disponible.</div>{% endif %}<div class="d-flex justify-content-between mt-5"><a href="{{ url_for('tripBuilder.step_tours') }}" class="btn btn-outline-secondary rounded-pill px-4"><i class="fas fa-arrow-left me-2"></i>Atrás</a><form method="post" action="{{ url_for('tripBuilder.save_transport') }}" class="d-inline"><input type="hidden" name="action" value="skip"><button type="submit" class="btn btn-outline-primary rounded-pill px-4">Ver Resumen<i class="fas fa-arrow-right ms-2"></i></button></form></div></div>{% endblock %}
